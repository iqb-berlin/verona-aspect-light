<div appIntersectionDetection
     detectionType="top"
     [intersectionContainer]="pagesContainer"
     (intersecting)="onIntersection()">
  <app-section *ngFor="let section of page.sections; let i = index"
               class="section"
               [pageIndex] = parentArrayIndex
               [parentForm]="pageForm"
               [parentArrayIndex]="i"
               [section]="section"
               [style.backgroundColor]="section.backgroundColor"
               [style.minHeight]=" section.dynamicPositioning ? 'auto' : section.height + 'px'">
  </app-section>
</div>
<div appIntersectionDetection
     detectionType="bottom"
     [intersectionContainer]="pagesContainer"
     (intersecting)="onIntersection()"
></div>
