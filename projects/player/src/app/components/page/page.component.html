<div appIntersectionDetection
     detectionType="top"
     [intersectionContainer]="pagesContainer"
     (intersecting)="onIntersection($event)"
></div>
<app-section *ngFor="let section of page.sections; let i = index; let last = last"
             [parentForm]="pageForm"
             [parentArrayIndex]="i"
             [section]="section"
             [ngStyle]="{
                position: 'relative',
                display: 'inline-block',
                'background-color': section.backgroundColor,
                'height.px': section.height,
                'width.px': section.width }">
</app-section>
<div appIntersectionDetection
     detectionType="bottom"
     [intersectionContainer]="pagesContainer"
     (intersecting)="onIntersection($event)"
></div>
